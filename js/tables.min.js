var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
function Tables(a){this.list=a.list||{};this.fList=[];if(a.node instanceof jQuery){this.colList=[];var b=this;this.wrapper=a.node;this.tbody=this.wrapper.find("tbody");this.wrapper.children("thead").find("th").each(function(a){$(this).attr("data-col")&&b.colList.push($(this).attr("data-col"))})}else throw Error("Wrapper not Jquery object");if(void 0===a.pk)throw Error("Index undefined");this.idName=a.pk;this.addin=a.addin;this.exclude=void 0===a.filterEx?[]:a.filterEx}
Tables.prototype.filter=function(a){this.fList=[];void 0===a&&(a="*");var b=a.split("*").join(".*"),c;for(c in this.list){a="";for(var d in this.colList){var e=this.colList[d];-1===this.exclude.indexOf(e)&&void 0!=this.list[c][e]&&(a+=" "+this.list[c][this.colList[d]])}a.match(new RegExp(b,"ig"))&&this.fList.push(c)}return this};Tables.prototype.getSel=function(){var a,b=[];for(a in this.list)this.list[a]._selected&&b.push(a);return b};
Tables.prototype.setSel=function(a,b){for(var c in a)this.list[c]._selected=!0,this.tbody.find("tr[data-id="+c+"]").find(b).prop("checked",!0)};Tables.prototype.rowEve=function(a){this.tbody.on("click","tr",function(b){getSelection().toString()||a($(this).attr("data-id"))})};Tables.prototype.cellEve=function(a){this.tbody.on("click","td",function(b){getSelection().toString()||(b=$(this).attr("data-col")?$(this).attr("data-col"):null,a($(this).parent("tr").attr("data-id"),b,$(this)))})};
Tables.prototype.render=function(){var a="",b="",c;void 0!=this.addin&&(b=this.addin);for(c=0;c<this.fList.length;c++){var d=this.fList[c];a+='<tr data-id="'+this.list[d][this.idName]+'">';for(var e in this.colList){var f="";null!==this.list[d][this.colList[e]]&&void 0!==this.list[d][this.colList[e]]&&(f=this.list[d][this.colList[e]]);a+='<td data-col="'+this.colList[e]+'">'+f+"</td>"}a+=b+"</tr>"}this.tbody.html(a)};
Tables.prototype.update=function(a){this.list=a;this.fList=[];for(var b in this.list)this.fList.push(b);return this};
